<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Formulário de Receita</title>
</head>
<body>
    <h1 th:text="${receita.id != null} ? 'Editar Receita' : 'Nova Receita'">Título</h1>
    <form th:action="@{/receitas/salvar}" th:object="${receita}" method="post">
        <input type="hidden" th:field="*{id}" />
        <label for="nome">Nome:</label>
        <input type="text" id="nome" th:field="*{nome}" required />
        <br/><br/>
        <label for="modoPreparo">Modo de Preparo:</label>
        <textarea id="modoPreparo" th:field="*{modoPreparo}" required></textarea>
        <br/><br/>
        <h3>Ingredientes</h3>
        <div id="ingredientes-container">
            <div th:each="ingrediente : ${ingredientes}">
                <input type="checkbox" th:id="'ingrediente_' + ${ingrediente.id}" 
                       th:name="'quantidade_' + ${ingrediente.id}"
                       th:value="${ingrediente.id}" />
                <label th:for="'ingrediente_' + ${ingrediente.id}" th:text="${ingrediente.nome}">Ingrediente</label>
                <input type="number" step="0.01" min="0" name="quantidade_${ingrediente.id}" placeholder="Quantidade" />
                <br/>
            </div>
        </div>
        <button type="submit">Salvar</button>
        <a href="/receitas">Cancelar</a>
    </form>
</body>
</html>
